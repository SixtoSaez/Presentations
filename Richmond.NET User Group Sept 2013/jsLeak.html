<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    </head>
    <body>
        <button id="start_button" onclick="startButtonClick()">Start</button>
        <button id="stop_button" onclick="stopButtonClick()">Stop</button>
        <script type="text/javascript" charset="utf-8">
var leak=null;

function startButtonClick() {
    if (leak !== null) {
        console.log("Already exists");
        return;
    }

    console.log("Initialize on Start click");
    leak = new Leaker();
    leak.init();
    leak.name = "Instance 1";
}

function stopButtonClick() {
    console.log("set null on Stop click");
    leak.stop();
    leak = null;
}

var Leaker = function() {};

Leaker.prototype = {
init: function() {
          console.log("Initialize a new one!!");
          var result = new Array(10000);
          for (var i=0, l=result.length; i<1; ++i) {
              result[i] = i.toString();
          }

          this.payload = result;
          this._interval = null;
          this.start();
      },
start: function() {
           console.log("Start");
           var self = this;
           self._interval = setInterval(function () {
                   console.log("setInterval");
                   self.onInterval(self.name);
                   }, 1000);
       },
onInterval: function(instanceName) {
                console.log("Interval: " + instanceName);
            },
stop: function() {
          console.log("Stop");
          if (this._interval !== null) {
              clearInterval(this._interval);
          }
      }
};

        </script>
    </body>
</html>
